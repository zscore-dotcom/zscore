# æƒé™ç®¡ç†åˆ†ææ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº† ZSCore åˆçº¦çš„åŒè§’è‰²æƒé™ç®¡ç†ç³»ç»Ÿï¼ŒåŒæ—¶æ”¯æŒ **Owner** å’Œ **Manager** ä¸¤ç§æƒé™è§’è‰²ã€‚

---

## ğŸ” æƒé™è§’è‰²

### 1. Ownerï¼ˆæ‰€æœ‰è€…ï¼‰

**èŒè´£ï¼š** èŠ‚ç‚¹æ¶æ„ç®¡ç†

**æƒé™èŒƒå›´ï¼š**
- âœ… æ·»åŠ èŠ‚ç‚¹
- âœ… åˆ é™¤èŠ‚ç‚¹
- âœ… ä¿®æ”¹ Manager åœ°å€ (å¯èƒ½)
- âŒ ç›´æ¥ LP åˆ†çº¢æƒé™ (éœ€é€šè¿‡ Manager)
- âŒ ç›´æ¥ Token åˆ†å‘æƒé™ (éœ€é€šè¿‡ Manager)

**å…³è”ç»„ä»¶ï¼š** `src/components/NodeManagement.jsx`

**åˆåŒå‡½æ•°ï¼š**
```solidity
// æ·»åŠ èŠ‚ç‚¹ - onlyOwner
function addNode(NodeType nodeType, address addr) external onlyOwner;

// åˆ é™¤èŠ‚ç‚¹ - onlyOwner
function delNode(NodeType nodeType, uint8 index) external onlyOwner;

// ä¿®æ”¹Manager - éœ€æŸ¥çœ‹åˆçº¦æºç ç¡®è®¤æƒé™
function changeManager(address newManager) external;

// ä¿®æ”¹Owner - éœ€æŸ¥çœ‹åˆçº¦æºç ç¡®è®¤æƒé™
function changeOwner(address newOwner) external;
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- ç»´æŠ¤å°èŠ‚ç‚¹åˆ—è¡¨
- ç»´æŠ¤å¤§èŠ‚ç‚¹åˆ—è¡¨
- è°ƒæ•´èŠ‚ç‚¹æ¶æ„
- è®¾ç½®/ä¿®æ”¹ Manager è´¦æˆ·

**é—´æ¥è®¿é—® Manager åŠŸèƒ½ï¼š**
å¦‚æœ Owner åŒæ—¶ä¹Ÿæ˜¯ Managerï¼Œåˆ™å¯ä»¥é€šè¿‡åŒä¸€è´¦æˆ·æ‰§è¡Œ LP åˆ†çº¢å’Œåˆ†å‘æ“ä½œ

---

### 2. Managerï¼ˆç®¡ç†è€…ï¼‰

**èŒè´£ï¼š** è´¢åŠ¡ä¸åˆ†å‘ç®¡ç†

**æƒé™èŒƒå›´ï¼š**
- âœ… LP åˆ†çº¢æå–
- âœ… Token æ¸…ç†
- âœ… Token åˆ†å‘
- âŒ æ— èŠ‚ç‚¹ç®¡ç†æƒé™

**å…³è”ç»„ä»¶ï¼š**
- `src/components/LPManagement.jsx`
- `src/components/Distribute.jsx`

**åˆåŒå‡½æ•°ï¼š**
```solidity
// LPåˆ†çº¢æå– - onlyManager
function lpShareZSInLp() external onlyManager;

// Tokenæ¸…ç† - onlyManager
function skim(address token) external onlyManager;

// Tokenåˆ†å‘ - onlyManager
function distribute(uint8 size, uint32 bigIndex, uint32 count) external onlyManager;
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- å®šæœŸæå– LP æ± æ”¶ç›Š
- æ¸…ç†å¤šä½™ Token åˆ°æ¸…ç†æ± 
- æ‰¹é‡åˆ†å‘ Token ç»™ LP ç”¨æˆ·

---

## ğŸ¯ æƒé™æ¨¡å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ZSCore åˆçº¦æƒé™æ¨¡å‹           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Owner è´¦æˆ·     â”‚      â”‚  Manager è´¦æˆ·     â”‚
â”‚                 â”‚      â”‚                  â”‚
â”‚  â€¢ addNode()    â”‚      â”‚  â€¢ lpShareZSInLp()â”‚
â”‚  â€¢ delNode()    â”‚      â”‚  â€¢ skim()        â”‚
â”‚                 â”‚      â”‚  â€¢ distribute()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   é“¾ä¸Šæƒé™éªŒè¯ (åˆçº¦)   â”‚
         â”‚                       â”‚
         â”‚  â€¢ onlyOwner ä¿®é¥°ç¬¦   â”‚
         â”‚  â€¢ onlyManager ä¿®é¥°ç¬¦  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”è¡¨

| åŠŸèƒ½ | Owner | Manager | Owner(é—´æ¥) | ç»„ä»¶ |
|------|-------|---------|-------------|------|
| æ·»åŠ èŠ‚ç‚¹ | âœ… | âŒ | âœ… | NodeManagement.jsx |
| åˆ é™¤èŠ‚ç‚¹ | âœ… | âŒ | âœ… | NodeManagement.jsx |
| ä¿®æ”¹ Manager | â“ | âŒ | â“ | (æœªå®ç°) |
| æå– LP åˆ†çº¢ | âŒ | âœ… | âœ…* | LPManagement.jsx |
| æ¸…ç† Token | âŒ | âœ… | âœ…* | LPManagement.jsx |
| Token åˆ†å‘ | âŒ | âœ… | âœ…* | Distribute.jsx |
| æŸ¥è¯¢ä¿¡æ¯ | âœ… | âœ… | âœ… | QueryInfo.jsx |

* è¯´æ˜ï¼šå¦‚æœ Owner å°†è‡ªå·±è®¾ç½®ä¸º Manager æˆ–ä½¿ç”¨åŒä¸€è´¦æˆ·ï¼Œåˆ™å¯ä»¥æ‰§è¡Œ Manager æ“ä½œ

---

## ğŸ”’ æƒé™æ§åˆ¶æœºåˆ¶

### å‰ç«¯æ§åˆ¶ï¼ˆUI æç¤ºï¼‰

```jsx
// NodeManagement.jsx
<p className={styles.subtitle}>ä»… Owner å¯ä»¥æ·»åŠ /åˆ é™¤èŠ‚ç‚¹</p>

// LPManagement.jsx
<p className={styles.subtitle}>ä»… Manager å¯ä»¥æ‰§è¡ŒLPç›¸å…³æ“ä½œ</p>

// Distribute.jsx
<p className={styles.subtitle}>ä»… Manager å¯ä»¥æ‰§è¡Œåˆ†å‘æ“ä½œ</p>
```

### é“¾ä¸Šæ§åˆ¶ï¼ˆåˆçº¦ä¿®é¥°ç¬¦ï¼‰

```solidity
// åˆçº¦å±‚é¢å¼ºåˆ¶æ‰§è¡Œæƒé™
modifier onlyOwner() {
    require(msg.sender == owner, "Not owner");
    _;
}

modifier onlyManager() {
    require(msg.sender == manager, "Not manager");
    _;
}
```

---

## ğŸ“ Manager ç§é’¥ä¿¡æ¯

æ ¹æ® `abi/æ¥å£è¯´æ˜.txt` æ–‡ä»¶ï¼š

```
Manager Private Key: 0x4833926c11d531867dfc40054216631828256d1fb298d0d3f66ff3b2b0c7788f
```

âš ï¸ **å®‰å…¨è­¦å‘Šï¼š** æ­¤ç§é’¥ä»…ç”¨äº BSC æµ‹è¯•ç½‘ï¼Œåˆ‡å‹¿åœ¨ä¸»ç½‘ä½¿ç”¨ï¼

---

## ğŸ¨ UI æƒé™åŒºåˆ†

### Owner æ“ä½œç•Œé¢
- **é¢œè‰²ä¸»é¢˜ï¼š** ç®¡ç†ç±»ç•Œé¢
- **è­¦å‘Šæç¤ºï¼š** "åªæœ‰åˆçº¦ Owner å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œ"
- **åŠŸèƒ½ä½ç½®ï¼š** èŠ‚ç‚¹ç®¡ç† æ ‡ç­¾é¡µ

### Manager æ“ä½œç•Œé¢
- **é¢œè‰²ä¸»é¢˜ï¼š** è´¢åŠ¡ç±»ç•Œé¢
- **è­¦å‘Šæç¤ºï¼š** "ä»… Manager å¯ä»¥æ‰§è¡Œ..."
- **åŠŸèƒ½ä½ç½®ï¼š** LPåˆ†çº¢ + åˆ†å‘ç®¡ç† æ ‡ç­¾é¡µ

---

## ğŸ” æƒé™éªŒè¯æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»æ“ä½œ
    â†“
æ£€æŸ¥é’±åŒ…è¿æ¥
    â†“
æäº¤é“¾ä¸Šäº¤æ˜“
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆçº¦æ£€æŸ¥æƒé™ä¿®é¥°ç¬¦             â”‚
â”‚  â€¢ onlyOwner æˆ– onlyManager     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    â”œâ”€ âœ… æƒé™æ­£ç¡® â†’ æ‰§è¡Œæ“ä½œ
    â”‚
    â””â”€ âŒ æƒé™é”™è¯¯ â†’ äº¤æ˜“å¤±è´¥
       "Not owner" æˆ– "Not manager"
```

---

## ğŸ“Œ æ€»ç»“

### æœ¬é¡¹ç›®ç‰¹ç‚¹ï¼š

1. **åŒè§’è‰²ç³»ç»Ÿï¼š** åŒæ—¶å®ç° Owner å’Œ Manager æƒé™
2. **è´£ä»»åˆ†ç¦»ï¼š**
   - Ownerï¼šæ¶æ„ç®¡ç†ï¼ˆèŠ‚ç‚¹ï¼‰
   - Managerï¼šè´¢åŠ¡ç®¡ç†ï¼ˆåˆ†çº¢ã€åˆ†å‘ï¼‰
3. **å®‰å…¨æ€§ï¼š** 
   - å‰ç«¯æç¤ºç”¨æˆ·ä½“éªŒ
   - é“¾ä¸Šå¼ºåˆ¶æ‰§è¡Œæƒé™
4. **çµæ´»æ€§ï¼š** 
   - ä¸åŒè§’è‰²è®¿é—®ä¸åŒåŠŸèƒ½
   - ç•Œé¢æ¸…æ™°åŒºåˆ†æƒé™

### é€‚ç”¨åœºæ™¯ï¼š

- **Owner** ç”¨äºç»´æŠ¤èŠ‚ç‚¹æ¶æ„
- **Manager** ç”¨äºæ—¥å¸¸è´¢åŠ¡ä¸åˆ†å‘
- ä¸¤ç±»è§’è‰²å„å¸å…¶èŒ

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- **æ¥å£å®šä¹‰ï¼š** `abi/æ¥å£è¯´æ˜.txt`
- **Owner åŠŸèƒ½ï¼š** `src/components/NodeManagement.jsx`
- **Manager åŠŸèƒ½ï¼š** 
  - `src/components/LPManagement.jsx`
  - `src/components/Distribute.jsx`
- **åˆçº¦ ABIï¼š** `abi/ZSCore.json`
- **åœ°å€é…ç½®ï¼š** `abi/adress.json`

---

## â“ å¸¸è§é—®é¢˜

### Q1: Owner å¯ä»¥ç›´æ¥æ‰§è¡Œ LP åˆ†çº¢å’Œåˆ†å‘æ“ä½œå—ï¼Ÿ

**ç­”ï¼šä¸èƒ½ç›´æ¥æ‰§è¡Œã€‚**

æ ¹æ®åˆçº¦æ¥å£æ–‡æ¡£ï¼Œä»¥ä¸‹å‡½æ•°éƒ½ä½¿ç”¨äº† `onlyManager` ä¿®é¥°ç¬¦ï¼š
- `lpShareZSInLp()` - onlyManager
- `distribute()` - onlyManager  
- `skim()` - onlyManager

Owner è´¦æˆ·ç›´æ¥è°ƒç”¨è¿™äº›å‡½æ•°ä¼šè¢«åˆçº¦æ‹’ç»ã€‚

### Q2: Owner å¦‚ä½•æ‰§è¡Œ Manager çš„æ“ä½œï¼Ÿ

**ç­”ï¼šæœ‰ä¸¤ç§æ–¹å¼ï¼š**

#### æ–¹å¼ä¸€ï¼šOwner å°†è‡ªèº«è®¾ç½®ä¸º Manager

å¦‚æœåˆçº¦å…è®¸ Owner è°ƒç”¨ `changeManager()` å‡½æ•°ï¼ˆè¿™æ˜¯å¸¸è§çš„æ™ºèƒ½åˆçº¦è®¾è®¡ï¼‰ï¼ŒOwner å¯ä»¥ï¼š

```
1. Owner è°ƒç”¨ changeManager(ownerAddress)
   â†’ å°†è‡ªå·±è®¾ç½®ä¸º Manager
   
2. ä¹‹åä½¿ç”¨åŒä¸€åœ°å€å°±å¯ä»¥æ‰§è¡Œ Manager æ“ä½œäº†
   â†’ lpShareZSInLp()
   â†’ distribute()
   â†’ skim()
```

**æ³¨æ„ï¼š** éœ€è¦ç¡®è®¤ `changeManager()` å‡½æ•°æ˜¯å¦æœ‰ `onlyOwner` ä¿®é¥°ç¬¦ã€‚

#### æ–¹å¼äºŒï¼šOwner å’Œ Manager ä½¿ç”¨åŒä¸€è´¦æˆ·

åœ¨åˆçº¦éƒ¨ç½²æ—¶æˆ–é€šè¿‡ `changeManager()` å‡½æ•°ï¼Œå°† Owner åœ°å€å’Œ Manager åœ°å€è®¾ç½®ä¸ºåŒä¸€ä¸ªè´¦æˆ·ï¼Œè¿™æ ·è¯¥è´¦æˆ·å°±åŒæ—¶æ‹¥æœ‰ä¸¤ç§æƒé™ã€‚

### Q3: éªŒè¯æƒé™çš„æ–¹å¼

**é“¾ä¸ŠéªŒè¯ï¼š**
- å°è¯•è°ƒç”¨å‡½æ•°ï¼Œå¦‚æœæƒé™ä¸è¶³ï¼Œäº¤æ˜“ä¼šå¤±è´¥å¹¶è¿”å› "Not manager" é”™è¯¯
- ä½¿ç”¨ `getOwner()` å’Œ `getManager()` æŸ¥è¯¢å½“å‰è´¦æˆ·æ˜¯å¦æ‹¥æœ‰ç›¸åº”æƒé™

**å‰ç«¯æç¤ºï¼š**
- æœ¬é¡¹ç›®åœ¨ UI ä¸Šåšäº†æƒé™æç¤ºï¼Œä½†æœ€ç»ˆçš„æƒé™éªŒè¯åœ¨é“¾ä¸Šæ‰§è¡Œ

### Q4: ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ

**è´£ä»»åˆ†ç¦»åŸåˆ™ï¼š**
- **Owner** è´Ÿè´£åˆçº¦æ¶æ„ç®¡ç†ï¼ˆèŠ‚ç‚¹ç®¡ç†ï¼‰
- **Manager** è´Ÿè´£æ—¥å¸¸è´¢åŠ¡æ“ä½œï¼ˆåˆ†çº¢ã€åˆ†å‘ï¼‰

è¿™ç§è®¾è®¡å¯ä»¥ï¼š
- å‡å°‘ Owner è´¦æˆ·çš„æ—¥å¸¸æ“ä½œé¢‘ç‡ï¼Œé™ä½ç§é’¥æ³„éœ²é£é™©
- å°†ç®¡ç†è´£ä»»åˆ†å¼€ï¼Œæé«˜å®‰å…¨æ€§
- å…è®¸ Owner éšæ—¶æ›´æ¢ Manager è€Œä¸å½±å“åˆçº¦æ‰€æœ‰æƒ

